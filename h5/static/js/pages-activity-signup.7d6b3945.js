(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-activity-signup"],{"16aa":function(t,n,e){"use strict";var a;e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"u-gap",style:[t.gapStyle]})},o=[]},"232b":function(t,n,e){"use strict";var a=e("4ea4");e("4160"),e("d81d"),e("45fc"),e("a434"),e("159b"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("96cf");var i,o=a(e("1da1")),r=a(e("ade3")),c=a(e("bcc3")),u=a(e("1b56")),s=e("dd75"),l=new u.default,d={components:{ListItem:c.default},data:function(){var t;return t={id:"",groupEnrollList:[],tempEnroll:"",company:"",companyRow:{isNull:0}},(0,r.default)(t,"tempEnroll",null),(0,r.default)(t,"companyList",[]),(0,r.default)(t,"isAdd",!1),t},onLoad:function(t){this.id=t.id},onShow:function(){this.getEnrollInfo(this.id),this.handleAddPerson()},methods:(i={getEnrollInfo:function(t){var n=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.enrollInfo(t);case 2:if(a=e.sent,!(a&&a.enrollColumnList.length>0)){e.next=12;break}return i="",a.enrollColumnList.some((function(t,n){if("01"===t.columnType)return i=t,!0})),n.tempEnroll=a.enrollColumnList,n.tempEnroll.forEach((function(t,e){n.$set(n.tempEnroll[e],"value","")})),n.companyRow=i,n.isAdd=!0,e.next=12,n.handleAddPerson();case 12:case"end":return e.stop()}}),e)})))()},handleAddPerson:function(){if(this.isAdd){var t=JSON.parse(JSON.stringify(this.tempEnroll)),n=this.groupEnrollList;n.push(t),this.groupEnrollList=n}},bindCompanyKeyInput:function(t){var n=t.currentTarget.dataset.key;this[n]=t.detail.value,"company"===n&&this.getCompanyList(t.detail.value)},bindKeyInput:function(t){var n=t.currentTarget.dataset;this.groupEnrollList[n.index][n.indexs].value=t.detail.value},getCompanyList:function(t){var n=this;t?uni.request({url:"https://www.dsjscpx.com/yzw/api/enterprise/topList?name=12",method:"GET",timeout:15e3,data:{name:t},header:{ak:"b8a24b9b57880f1623f794db363eb10b"},success:function(t){var e=t.data;200==e.code&&(n.companyList=e.data)},fail:function(t){uni.showToast({title:"系统错误,请稍后重试！",icon:"none",duration:2e3})}}):this.bindEventCloseCompany()},bindEventCloseCompany:function(){this.companyList=[]},handleSelectCompany:function(t){this.company=t.currentTarget.dataset.name,this.companyList=[]},handleDelPerson:function(t){var n=t.currentTarget.dataset.index;this.groupEnrollList.splice(n,1)}},(0,r.default)(i,"handleAddPerson",(function(){if(this.isAdd){var t=JSON.parse(JSON.stringify(this.tempEnroll)),n=this.groupEnrollList;n.push(t),this.groupEnrollList=n}})),(0,r.default)(i,"checkData",(function(){var t=this,n=!0;return this.groupEnrollList.forEach((function(e){e.forEach((function(e){if("01"===e.columnType)return!t.company&&(n=!1,uni.showToast({title:e.columnName+"不允许为空",icon:"none",duration:2e3})),t.company&&(e.value=t.company),1;e.isNull&&!e.value&&(n=!1,uni.showToast({title:e.columnName+"不允许为空",icon:"none",duration:2e3})),"10"===e.columnType&&!(0,s.checkPhone)(e.value)&&(n=!1,uni.showToast({title:e.columnName+"所填不是有效手机号码",icon:"none",duration:2e3})),"19"===e.columnType&&e.value&&!(0,s.checkIdCard)(e.value)&&(n=!1,uni.showToast({title:e.columnName+"所填不是有效身份证",icon:"none",duration:2e3})),"02"===e.columnType&&e.value&&!(0,s.checkEmail)(e.value)&&(n=!1,uni.showToast({title:e.columnName+"所填不是有效邮箱",icon:"none",duration:2e3}))}))})),n})),(0,r.default)(i,"handleSubmit",(function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var e,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.checkData()){n.next=8;break}return e=JSON.parse(JSON.stringify(t.groupEnrollList)),e=e.map((function(t){return t=t.map((function(t){return{enrollColumnId:t.id,value:t.value}})),t})),a={activeId:t.id,groupEnrollList:e},n.next=6,l.enrollSubmit(a);case 6:i=n.sent,"成功"===i&&(uni.showToast({title:"报名成功！",icon:"success",duration:2e3}),setTimeout((function(){uni.navigateTo({url:"/pages/activity/detail?id=".concat(t.id)})}),1e3));case 8:case"end":return n.stop()}}),n)})))()})),i)};n.default=d},2570:function(t,n,e){"use strict";e.r(n);var a=e("2afd"),i=e("d114");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("e62b");var r,c=e("f0c5"),u=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"0ab3efbc",null,!1,a["a"],r);n["default"]=u.exports},"2afd":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var a={uGap:e("e3d0").default},i=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-uni-view",{staticClass:"sign-up-box"},[a("v-uni-view",{staticClass:"item item-company"},[a("v-uni-view",{staticClass:"item-title"},[a("v-uni-view",[t._v("报名信息")])],1),t.companyRow.isNull?a("v-uni-view",{staticClass:"item-row"},[a("v-uni-view",{staticClass:"label"},[t.companyRow.isNull?a("v-uni-text",{staticClass:"isNull"},[t._v("*")]):t._e(),t._v("公司")],1),a("v-uni-input",{staticClass:"ui-input",attrs:{"data-key":"company",value:t.company,placeholder:"公司名称"},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.bindCompanyKeyInput.apply(void 0,arguments)}}})],1):t._e()],1),a("u-gap",{attrs:{height:"16","bg-color":"#e9eff5"}}),t.companyList.length?a("v-uni-view",{staticClass:"company-box",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.bindEventCloseCompany.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"company"},[t._l(t.companyList,(function(n,e){return[a("v-uni-view",{key:e+"_0",staticClass:"company-item line",attrs:{"data-name":n.name},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleSelectCompany.apply(void 0,arguments)}}},[t._v(t._s(n.name))])]}))],2)],1):t._e(),a("v-uni-view",{staticClass:"listBox"},[t._l(t.groupEnrollList,(function(n,i){return[a("v-uni-view",{key:i+"_0",staticClass:"item"},[a("v-uni-view",{staticClass:"item-title"},[a("v-uni-view",[t._v("第 "+t._s(i+1)+" 位")]),t.groupEnrollList.length>1?a("v-uni-view",{staticClass:"delete-box",attrs:{"data-index":i},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleDelPerson.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:e("a31e")}})],1):t._e()],1),t._l(n,(function(n,e){return["01"!==n.columnType?a("v-uni-view",{key:e+"_0",staticClass:"item-row"},[a("v-uni-view",{staticClass:"label"},[a("v-uni-text",{staticClass:"isNull"},[t._v(t._s(n.isNull?"*":""))]),t._v(t._s(n.columnName))],1),a("v-uni-input",{staticClass:"ui-input",attrs:{"data-index":i,"data-indexs":e,placeholder:n.tips},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.bindKeyInput.apply(void 0,arguments)}},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"enroll.value"}})],1):t._e()]}))],2)]}))],2),a("v-uni-button",{attrs:{type:"addperson",plain:!0},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleAddPerson.apply(void 0,arguments)}}},[t._v("添加嘉宾")]),t.groupEnrollList.length?a("v-uni-button",{attrs:{type:"submit"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleSubmit.apply(void 0,arguments)}}},[t._v("提交报名")]):t._e()],1)},o=[]},"5e54":function(t,n,e){"use strict";e("a9e3"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={name:"u-gap",props:{bgColor:{type:String,default:"transparent "},height:{type:[String,Number],default:30},marginTop:{type:[String,Number],default:0},marginBottom:{type:[String,Number],default:0}},computed:{gapStyle:function(){return{backgroundColor:this.bgColor,height:this.height+"rpx",marginTop:this.marginTop+"rpx",marginBottom:this.marginBottom+"rpx"}}}};n.default=a},"664b":function(t,n,e){"use strict";e.r(n);var a=e("5e54"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},"67a7":function(t,n,e){var a=e("7cfa");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("64db32b8",a,!0,{sourceMap:!1,shadowMode:!1})},7067:function(t,n,e){"use strict";var a=e("67a7"),i=e.n(a);i.a},"7cfa":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */',""]),t.exports=n},a31e:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAfRJREFUSInt1j1oFEEUB/DfJUeigiGLEMFeS7WKhSipRLAUtbjtROy1srC30kq0FBlQ0wmKtSKIbQptgjZGxOJOUELM6Z3F7nKbye6Z84IW5t+8mfcx//l4M/Ma7VbLEBzEAmbwc5hjjkYuPyYhPBrqOIR4Ac+wawuEVXiN00kIX6qMzZqgJh7mpEtYMVjNVjCPY7iK66MQ/8B+2fYeGcaQhLBJ10nT43iJA3VxTRzNZwf9XM6VfC7nE6lEJ01jVb802cOdNL1ksFuTWMfTRrvV6seRfwGLTdk5zGPCYMVK7VHOtox+RWwDXdxr4uYfDozqM94KJsYhHQdV9/iMLOkeV/ifxye8KOkmcQ5vkhCWys6dNJ3GWbxKQnhftsXXaQpP8vY+tEu2Qyheo3I+nMQDLMteujIu4jYWcaFsiLd6qtSejWx7c/nNxqSZyWXVlUtyuSlBY+KewZvcjWxFfz3SF/3vFcRrNTH/Lrl2iHeId4j/L+KJSBaYjOS2E/dyOWtjwVBgrkJXi7pirwpvcQMfIuLnuCUrZ8ciLn6SXqTv4lrsnITwFVdqxi/G+O3vVNat1Aw2Copifjo2xCtewyr2yD7v5QqfDagobwv0cCpvt2NjPGhPVnXekZUz24FVWW4MJYa7si06gd1jkn7G/SSEd7HhFwb5ak17JxWSAAAAAElFTkSuQmCC"},bc2a:function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.sign-up-box[data-v-0ab3efbc]{padding-bottom:%?150?%}.item[data-v-0ab3efbc]{background-color:#fff;margin-bottom:%?16?%}.item-company[data-v-0ab3efbc]{margin-bottom:0}.listBox[data-v-0ab3efbc]{background-color:#e9eff5}.uni-input-input[data-v-0ab3efbc], .uni-input-placeholder[data-v-0ab3efbc]{color:#aaa;font-size:%?28?%!important}.item-title[data-v-0ab3efbc], .item-row[data-v-0ab3efbc]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?100?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%}.item-title[data-v-0ab3efbc]{padding:0 %?30?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-bottom:%?2?% solid #c9d2db}.item-title .delete-box uni-image[data-v-0ab3efbc]{width:%?30?%;height:%?30?%}.item-row[data-v-0ab3efbc]{margin:0 %?30?%;border-bottom:%?2?% solid #c9d2db}.item-row[data-v-0ab3efbc]:last-child{position:relative;border-color:#fff}.label[data-v-0ab3efbc]{color:#9596a5}.ui-input[data-v-0ab3efbc]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:right}.isNull[data-v-0ab3efbc]{display:inline-block;min-width:%?20?%;color:red}uni-button[type="addperson"][data-v-0ab3efbc]{margin:%?50?% %?30?% 0;height:%?100?%;border-radius:0;font-size:%?32?%;line-height:%?98?%;color:#597dfa;border-color:#babec3;border-style:dashed;background-color:#e9eff5}uni-button[type="submit"][data-v-0ab3efbc]{position:fixed;bottom:0;left:0;right:0;height:%?100?%;border-radius:0;color:#fff;font-size:%?32?%;line-height:%?98?%;background-color:#597dfa;z-index:9999}uni-button[type="submit"][data-v-0ab3efbc]::after{border:0}.company-box[data-v-0ab3efbc]{position:fixed;top:%?213?%;left:0;right:0;bottom:0;z-index:99999;background-color:rgba(0,0,0,.5)}.company[data-v-0ab3efbc]{background-color:#fff;padding:0 %?30?%;max-height:%?500?%;overflow-x:hidden;overflow-y:auto}.company-item[data-v-0ab3efbc]{text-align:right;font-size:%?32?%;line-height:%?100?%;letter-spacing:%?0?%;color:#2d2d37}',""]),t.exports=n},d114:function(t,n,e){"use strict";e.r(n);var a=e("232b"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},dd75:function(t,n,e){"use strict";function a(t){console.log(t,"url"),t.includes("jpeg")||t.includes("jpg")||t.includes("png")?uni.previewImage({urls:[t],fail:function(){console.log("预览图片失败",JSON.stringify(err)),uni.showToast({title:"预览图片失败",icon:"none"})},success:function(t,n){console.log("预览图片成功",t,n)}}):(uni.showLoading({icon:"loading",title:"正在打开，请等待"}),uni.downloadFile({url:t,fail:function(){uni.hideLoading(),uni.showToast({title:"预览文件失败",icon:"none"})},success:function(t){console.log(t,"res");var n=t.tempFilePath;console.log(n,"folefasa",n),uni.openDocument({filePath:n,success:function(t){console.log("预览文件成功",t),uni.hideLoading()},fail:function(t){console.log("预览文件失败",t),uni.hideLoading(),uni.showToast({title:"预览文件失败",icon:"none"})}})}}))}function i(t){return Number(t).toFixed(1)}function o(t){return!!/^1[3|4|5|6|7|8|9]\d{9}$/.test(t)}function r(t){return!(""!=t&&!/(^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/.test(t))}function c(t){var n=!0,e={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};if(e[t.substr(0,2)]||(n=!1),/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(t)||(n=!1),15==t.length){var a=new RegExp(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/),i=t.match(a),o=new Date("19"+i[2]+"/"+i[3]+"/"+i[4]),r=o.getYear()==Number(i[2])&&o.getMonth()+1==Number(i[3])&&o.getDate()==Number(i[4]);r||(n=!1)}if(18==t.length){a=new RegExp(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/),i=t.match(a),o=new Date(i[2]+"/"+i[3]+"/"+i[4]),r=o.getFullYear()==Number(i[2])&&o.getMonth()+1==Number(i[3])&&o.getDate()==Number(i[4]);r||(n=!1)}var c,u=0,s=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],l=[1,0,"X",9,8,7,6,5,4,3,2];15==t.length&&(t=t.substr(0,6)+"19"+t.substr(6,t.length-6));for(var d=0;d<17;d++)u+=t.substr(d,1)*s[d];return c=l[u%11],c!=t.substr(17,1)&&(n=!1),n}function u(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":",i="";function o(t){return t>=10?t:"0"+t}var r=new Date(t),c=r.getFullYear(),u=o(r.getMonth()+1),s=o(r.getDate()),l=o(r.getHours()),d=o(r.getMinutes()),f=o(r.getSeconds());switch(n){case"YYYY":i="".concat(c);break;case"YYYY-MM":i="".concat(c).concat(e).concat(u);break;case"YYYYMM":i="".concat(c).concat(u);break;case"YYYY-MM-DD":i="".concat(c).concat(e).concat(u).concat(e).concat(s);break;case"YYYYMMDD":i="".concat(c).concat(u).concat(s);break;case"YYYY-MM-DD HH:MM:SS":i="".concat(c).concat(e).concat(u).concat(e).concat(s," ").concat(l).concat(a).concat(d).concat(a).concat(f);break;default:i="".concat(c).concat(e).concat(u).concat(e).concat(s," ").concat(l).concat(a).concat(d).concat(a).concat(f)}return i}e("99af"),e("caad"),e("a9e3"),e("b680"),e("4d63"),e("ac1f"),e("25f0"),e("2532"),e("466d"),Object.defineProperty(n,"__esModule",{value:!0}),n.searchPdf=a,n.formatNumber=i,n.checkPhone=o,n.checkIdCard=c,n.checkEmail=r,n.formatDateTime=u},e3d0:function(t,n,e){"use strict";e.r(n);var a=e("16aa"),i=e("664b");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("7067");var r,c=e("f0c5"),u=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"0c45c33e",null,!1,a["a"],r);n["default"]=u.exports},e62b:function(t,n,e){"use strict";var a=e("e637"),i=e.n(a);i.a},e637:function(t,n,e){var a=e("bc2a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("ff67f9a8",a,!0,{sourceMap:!1,shadowMode:!1})}}]);