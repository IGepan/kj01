<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>易智网 - 找服务</title>
    <link href="../common/css/main.css" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/swiper-bundle.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="css/iconfont.css">
    <script src="js/swiper-bundle.min.js"></script>
</head>
<body>
<div class="box" id='index_box' v-cloak>
    <ly-toper ref="lytoper" top-class="white"></ly-toper>

    <header-mail ref="header_mail"></header-mail>

    <nav class="main-menu">
        <div class="container">
            <ul class="navbar-nav">
                <li class="nav-item brand">
                    <a class="nav-link" href="#" id="main-down-first">
                        服务分类
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/">首页</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="sub1.html">找服务</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" @click="fwsClick2()">入驻商城</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">关于商城</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="find-service">
        <div class="slogan-top">易智商城, 优先服务</div>
        <div class="container">
            <div class="filter-box">
                <div class="filter-item d-flex">
                    <div class="filter-title">服务类型:</div>
                    <ul class="nav filter-list" id="pills-tab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="tabs-all-tab" data-bs-toggle="pill"  role="tab"
                               aria-controls="tabs-all" aria-selected="false" @click.stop="handleSearchForm('server')">全部</a>
                        </li>
                        <template v-for="(type,index) in options.mailServiceTypeList">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link"  data-bs-toggle="pill" :href="'#tabs-'+type.id" role="tab"
                                   aria-controls="tabs-1" aria-selected="false"  :data-typeid="type.id"  @click.stop="handleSearchForm(type,'server')" >{{type.name}}</a>
                            </li>
                        </template>

                    </ul>
                </div>
                <div class="tab-content" id="pills-tabContent">
                    <template v-for="(type,index) in options.mailServiceTypeList">
                        <div class="tab-pane fade" :id="'tabs-'+type.id" role="tabpanel" aria-labelledby="tabs-1-tab">
                            <ul class="list-inline m-0">
                                <template v-for="child in type.children">
                                    <li class="list-inline-item"><a href="#"  :data-typeid="child.id" @click.stop="handleSearchForm(child,'server')" >{{child.name}}</a></li>
                                </template>
                            </ul>
                        </div>
                    </template>
                </div>
                <div class="filter-item d-flex price">
                    <div class="filter-title">服务价格:</div>
                    <ul class="nav filter-list">
                        <template v-for="(optItem, index) in options.searchOpts">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link"  data-bs-toggle="pill"  role="tab"
                                   aria-controls="tabs-all" aria-selected="false"  :data-price="''" @click.stop="handleSearchForm('price')">全部</a>
                            </li>
                            <template v-for="(ducItem, index) in optItem.dictIInfos">
                                <li class="nav-item">
                                    <a class="nav-link"  @click.stop="handleSearchForm(ducItem,'price')" :data-price="ducItem.value" href="#">{{ducItem.display}}</a>
                                </li>
                            </template>
                        </template>
                    </ul>
                </div>
            </div>
            <div class="toolbar d-flex justify-content-between">
                <div class="filter-current">
                    <span>已选条件:</span>
                    <a v-for="(type,index) in result" :key = "index"
                       class="cur-item" href="#">{{type.name||type.display}}<i class="iconfont icon-close" @click.stop="remove(type)"></i></a>

                </div>
                <div class="sort">
                    <ul class="list-inline m-0">

                        <li class="list-inline-item"v-for="(item, i) in filters" :key="i" @click="handleFilter(i)" ><a :class="{active: item.seleced}" href="#" v-text="item.label"></a></li>

                        <li class="list-inline-item">已为您筛选 <span v-text="pages.total || 0" ></span> 条数据</li>
                    </ul>
                </div>
            </div>
            <div class="service-list find-list">
                <div class="row row-cols-5">
                    <template v-for="good in goodList">
                        <a :href="'/mail/shop/detail.html?id='+good.id+'&code='+good.shopCode">
                            <div class="col">
                                <div class="card card-item" >
                                    <img :src="good.goodsImg.url" class="" alt="...">
                                    <div class="card-body">
                                        <h5 class="card-title">{{good.goodsName}}</h5>
                                        <div class="addition">
                                            <div class="quoted-price"><span>￥</span>{{good.negotiableFlag | formatPrice2(good.price, good.minPrice, good.maxPrice)}}<span v-if="good.negotiableFlag==='0'">万</span></div>
                                            <div class="short-text">
                                                <p><i class="iconfont icon-tag"></i>{{good.typeName}}</p>
                                                <p><i class="iconfont icon-city"></i>{{good.shopName}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </template>
                </div>
                    <template v-if="pages">
                        <pages :pages="pages" @changepage="bindPageChange"></pages>
                    </template>
            </div>

        </div>

    </div>

    <web-footer></web-footer>
</div>
</body>
<script type="text/javascript" src="/common/js/libs/require.js"></script>
<script type="text/javascript" src="/style/js/mail/sub1.js"></script>
</html>
